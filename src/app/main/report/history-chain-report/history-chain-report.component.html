<main class="container py-1">

  <section class="my-5 container d-flex">
    <span class="h1 my-auto">Get history chain graph</span>
  </section>


  <mat-card class="p-3 m-2 mb-4 border">
    <div class="container my-3 d-flex align-items-center">
      <mat-form-field appearance="outline" class="flex-grow-1 me-2">
        <mat-label>Deed No.</mat-label>
        <input matInput type="text" [formControl]="searchBar" [matAutocomplete]="auto">
        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
          @for (option of filteredOptions | async; track option) {
          <mat-option [value]="option.deedNo">{{option.deedNo}}</mat-option>
          }
        </mat-autocomplete>
      </mat-form-field>
      <button mat-flat-button style="height: 3rem !important; margin-bottom: 1.2rem;" aria-label="Search" matTooltip="Search" (click)="onSearch()">
        <span class="d-none d-md-inline">Search</span>
        <mat-icon>search</mat-icon>
      </button>
    </div>

    <section class="container mb-3">
      <div class="pb-2">
        <mat-card appearance="outlined" class="p-3">
          <p style="color: green;">History Chain Tree</p>
          <app-history-chain-graph [chainDeedDataArray]="chainDeedDataArray()" [deedList]="deedList" />
          <div class="mt-5">
            <button type="button" mat-flat-button>
              <mat-icon>print</mat-icon>
              Print
            </button>
          </div>
        </mat-card>
      </div>
    </section>
  </mat-card>

</main>
